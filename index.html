<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>機車時速與輪胎直徑計算器</title>

    <style>
        /* CSS 樣式 */
        .watermark {
            position: fixed;
            bottom: 10px;
            right: 10px;
            font-size: 24px;
            font-family: 標楷體, KaiTi, serif;
            color: rgb(0, 0, 255); /* 水印顏色 */
            z-index: 1000; /* 確保水印在最上層 */
            transform: rotate(0deg); /* 不再旋轉 */
        }
        .watermark_1 {
            font-size: 24px;
            font-family: 標楷體, KaiTi, serif;
            color: rgb(250, 10, 10); /* 水印顏色 */
        }
        .watermark_2 {
            font-size: 24px;
            font-family: 標楷體, KaiTi, serif;
            color: rgb(250, 10, 10); /* 水印顏色 */
        }
        .watermark_3 {
            font-size: 24px;
            font-family: 標楷體, KaiTi, serif;
            color: rgb(250, 10, 10); /* 水印顏色 */
        }
        .watermark_4 {
            font-size: 24px;
            font-family: 標楷體, KaiTi, serif;
            color: rgb(250, 10, 10); /* 水印顏色 */
        }
    </style>
</head>
<body>
    <!-- 水印1 -->
    <div class="watermark">By 黃m</div>
    <script>
        // JavaScript 程式碼
        document.addEventListener('DOMContentLoaded', function () {
            // 訪問計數器初始化
            let visitCount = localStorage.getItem('visitCount') || 0;
            visitCount++;
            localStorage.setItem('visitCount', visitCount);

            // 更新訪問計數器顯示
            document.getElementById('visitCounter').innerText = `一共有「${visitCount}」隻貓來過這裡`;
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // 初始化自訂輪胎週長查詢次數
            let CB150R_CB300R_Counter = parseInt(localStorage.getItem('CB150R_CB300R_Counter')) || 0;
            let CB650R_CB1100RS_Counter = parseInt(localStorage.getItem('CB650R_CB1100RS_Counter')) || 0;
            let CB1000R_Counter = parseInt(localStorage.getItem('CB1000R_Counter')) || 0;
    
            document.getElementById('customTireCircumferenceCounter').innerText = `CB150R/CB300R查詢次數 : ${CB150R_CB300R_Counter}`;
            document.getElementById('customTireCircumferenceCounter1').innerText = `CB650R/CB1100RS查詢次數 : ${CB650R_CB1100RS_Counter}`;
            document.getElementById('customTireCircumferenceCounter2').innerText = `CB1000R查詢次數 : ${CB1000R_Counter}`;
    
            // 監聽選擇輪胎週長的下拉選單
            document.getElementById('calculateButton').addEventListener('click', function() {
                const selectedValue = document.getElementById('tireCircumference').value;
                switch (selectedValue) {
                    case '611.80':
                        CB150R_CB300R_Counter++;
                        localStorage.setItem('CB150R_CB300R_Counter', CB150R_CB300R_Counter);
                        document.getElementById('customTireCircumferenceCounter').innerText = `CB150R/CB300R查詢次數 : ${CB150R_CB300R_Counter}`;
                        break;
                    case '629.80':
                        CB650R_CB1100RS_Counter++;
                        localStorage.setItem('CB650R_CB1100RS_Counter', CB650R_CB1100RS_Counter);
                        document.getElementById('customTireCircumferenceCounter1').innerText = `CB650R/CB1100RS查詢次數 : ${CB650R_CB1100RS_Counter}`;
                        break;
                    case '640.80':
                        CB1000R_Counter++;
                        localStorage.setItem('CB1000R_Counter', CB1000R_Counter);
                        document.getElementById('customTireCircumferenceCounter2').innerText = `CB1000R查詢次數 : ${CB1000R_Counter}`;
                        break;
                }
            });
        });
    </script>
    <!-- 訪問計數器 -->
    <div class="watermark_1" id="visitCounter"></div><br>
    <h2>機車時速計算器</h2>
    <form id="speedCalculator">
        <label for="frontGear">前齒輪齒數：</label>
        <input type="number" id="frontGear" name="frontGear" required min="0"><br><br>

        <label for="rearGear">後齒輪齒數：</label>
        <input type="number" id="rearGear" name="rearGear" required min="0"><br><br>

        <label for="tireCircumference">輪胎週長（毫米）：</label>
        <select id="tireCircumference" name="tireCircumference" required>
            <option value="611.80">CB150R/CB300R</option>
            <option value="629.80">CB650R/CB1100RS</option>
            <option value="640.80">CB1000R</option>
            <option value="custom">自訂</option>
        </select><br><br>

        <div id="customTireCircumference" style="display: none;">
            <label for="customInput">自訂輪胎週長（毫米）：</label>
            <input type="number" id="customInput" name="customInput" min="0"><br><br>
        </div>

        <label for="engineRpm">引擎轉速（轉/分）：</label>
        <input type="number" id="engineRpm" name="engineRpm" required min="0"><br><br>

        <button type="button" id="calculateButton" onclick="calculateSpeed()">計算時速</button>

        <!-- 用於顯示計算結果 -->
        <div id="speedResult"></div><br>

        <!-- 用於顯示自訂輪胎週長查詢次數 -->
        <div id="customTireCircumferenceCounter" class="watermark_2"></div><br>
        <br>
        <div id="customTireCircumferenceCounter1" class="watermark_3"></div><br>
        <br>
        <div id="customTireCircumferenceCounter2" class="watermark_4"></div><br>
    </form>
    <h2>輪胎直徑計算器</h2>
    <form id="tireForm">
        <label for="width">輪胎寬度（毫米）：</label>
        <input type="number" id="width" name="width" required min="0"><br><br>

        <label for="profile">輪胎截面比例（％）：</label>
        <input type="number" id="profile" name="profile" required min="0"><br><br>

        <label for="rim">輪圈尺寸（英寸）：</label>
        <input type="number" id="rim" name="rim" required min="0"><br><br>

        <button type="button" onclick="calculateDiameter()">計算</button>

        <!-- 用於顯示計算結果 -->
        <div id="diameterResult"></div>
    </form>
    <!-- JavaScript -->
    <script>
        function calculateSpeed() {
            const frontGear = parseInt(document.getElementById("frontGear").value);
            const rearGear = parseInt(document.getElementById("rearGear").value);
            let tireCircumference = 0; // 將輪胎週長宣告為變數
            const tireCircumferenceElement = document.getElementById("tireCircumference");
            
            // 檢查使用者是否選擇了自訂輪胎週長
            const selectedValue = tireCircumferenceElement.value;
            if (selectedValue === "custom") {
                tireCircumference = parseFloat(document.getElementById("customInput").value) / 1000; // 將自訂輪胎週長從毫米轉換為公尺
                const customTireCircumferenceCount = parseInt(localStorage.getItem('customTireCircumferenceCount')) || 0;
                localStorage.setItem('customTireCircumferenceCount', customTireCircumferenceCount + 1);
                document.getElementById('customTireCircumferenceCounter').innerText = `CB150R/CB300R查詢次數：${customTireCircumferenceCount + 1}`;
            } else {
                tireCircumference = parseFloat(selectedValue) / 1000; // 將輪胎週長從毫米轉換為公尺
            }

            const engineRpm = parseInt(document.getElementById("engineRpm").value) / 60; // 引擎轉速從每分鐘轉換為每秒

            // 檢查輸入值是否為負值或空值
            if (frontGear <= 0 || rearGear <= 0 || tireCircumference <= 0 || engineRpm <= 0) {
                alert("輸入值不得為負值或空值");
                return;
            }

            const gearRatio = frontGear / rearGear;
            const speed = (gearRatio * tireCircumference * engineRpm) * 3.6; // 將速度從 m/s 轉換為 km/h

            document.getElementById("speedResult").innerHTML = `<p>時速：${speed.toFixed(2)} 公里/小時</p>`;
        }

        // 切換自訂輪胎週長輸入欄位的可見性
        document.getElementById("tireCircumference").addEventListener("change", function() {
            const customInput = document.getElementById("customTireCircumference");
            if (this.value === "custom") {
                customInput.style.display = "block";
            } else {
                customInput.style.display = "none";
            }
        });

        function calculateDiameter() {
            const width = parseFloat(document.getElementById("width").value);
            const profile = parseFloat(document.getElementById("profile").value);
            const rim = parseFloat(document.getElementById("rim").value);

            // 檢查輸入值是否為負值或空值
            if (width <= 0 || profile <= 0 || rim <= 0) {
                alert("輸入值不得為負值或空值");
                return;
            }

            const diameter = (width * profile / 100) * 2 + rim * 25.4; // 將直徑從英寸轉換為毫米

            document.getElementById("diameterResult").innerHTML = `<p>輪胎直徑：${diameter.toFixed(2)} 毫米</p>`;
        }
    </script>
    <hr>

    <h2>供使用者參考的資料</h2>
    <p>/CB150R<br>
        前齒 : 15<br>
        後齒 : 47<br>
        後輪尺寸 : 150/60-17<br>
        輪胎週長 : 611.80</p>

    <p>/CB300R<br>
        前齒 : 台本 14 ,水貨14<br>
        後齒 : 台本 37 ,水貨36<br>
        後輪尺寸：150/60-17<br>
        輪胎週長 : 611.80</p>

    <p>/CB650R<br>
        前齒 : 台本 15 ,水貨<br>
        後齒 : 台本 42 ,水貨<br>
        後輪尺寸：180/55-17<br>
        輪胎週長 : 629.80</p>

    <p>/CB1000R<br>
        前齒 : 台本 15 ,水貨 15<br>
        後齒 : 台本 43 ,水貨 44<br>
        後輪尺寸：190/55-17<br>
        輪胎週長 : 640.80</p>

    <p>/CB1100RS<br>
        前齒 : 台本     ,水貨<br>
        後齒 : 台本     ,水貨<br>
        後輪尺寸：180/55-17<br>
        輪胎週長 : 629.80</p>
</body>
</html>
